/*!
 * BubbleUp
 * http://github.com/asaharan/bubbleUp
 * @licence MIT
*/
'use strict';

function GameManager(gridManager,bitManager,masterLogic){this.gridManager=new gridManager,this.bitManager=bitManager,this.masterLogic=masterLogic}function Grid(){this.grid=[],this.previousGrid=[],this.fixedTile=null,this.size=size,this.initialValue=initialValue,this.gridContainerOuter=document.querySelector(".gridContainerOuter"),this.gridContainerInner=document.querySelector(".gridContainerInner"),this.backgroundGrid=document.querySelector(".backgroundGrid"),this.mainGrid=document.querySelector(".mainGrid"),this.setup()}function Tile(x,y,value){this.x=x,this.y=y,this.value=value,this.isVisible=!0,this.htmlNode=null}var size=4,game,initialValue=512;window.requestAnimationFrame(function(){game=new GameManager(Grid)}),GameManager.prototype.init=function(){},GameManager.prototype.restart=function(){},Grid.prototype.setup=function(){var i,j;for(i=0;i<this.size;i++)for(j=0;j<this.size;j++)this.createTile({x:i,y:j},this.initialValue);this.applyChanges()},Grid.prototype.createTile=function(position,value){var tile=new Tile(position.x,position.y,value);tile.isVisible=!0,this.grid.push(tile)},Grid.prototype.applyChanges=function(){var removedTiles=this.grid.diff(this.previousGrid),addedTiles=this.previousGrid.diff(this.grid);removedTiles.forEach(function(tile){tile.applyChanges()}),addedTiles.forEach(function(tile){})},Grid.prototype.addTile=function(tile){var tileElement=document.createElement("div");tileElement.textContent=tile.value;["tile",tile.positionClass(),"new"];this.mainGrid.appendChild(tileElement)},Array.prototype.diff=function(a){return this.filter(function(i){return a.indexOf(i)<0})},Tile.prototype.position=function(){return{x:this.x,y:this.y}},Tile.prototype.apply=function(){var visibleClassName="visible",removedClassName="removed";this.isVisible?this.htmlNode.classList.add(removedClassName).remove(visibleClassName):this.htmlNode.classList.remove(removedClassName).add(visibleClassName)},Tile.prototype.positionClass=function(){return"tile-"+this.x+"-"+this.y};
//# sourceMappingURL=game.min.js.map